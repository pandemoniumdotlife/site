@import 'libs/vars';
@import 'libs/functions';
@import 'libs/mixins';
@import 'libs/vendor';
@import 'libs/breakpoints';
@import url("https://fonts.googleapis.com/css2?family=Epilogue:wght@300;900&display=swap");
@import url("fontawesome-all.min.css"); // For the icons

/*
	Aerial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
*/

// Breakpoints.
	@include breakpoints((
		wide:      ( 1281px,  1680px ),
		normal:    ( 737px,   1280px ),
		mobile:    ( 481px,   736px  ),
		mobilep:   ( null,    480px  )
	));

// Mixins.
	@mixin bg($width) {
		@include keyframes('bg') {
			0%		{ @include vendor('transform', 'translate3d(0,0,0)'); }
			100%	{ @include vendor('transform', 'translate3d(#{$width * -1},0,0)'); }
		}
		#bg {
			background-size: $width auto;
			width: ($width * 3);
		}
	}

	$delay-wrapper:			_duration(wrapper) - 1s;          // 2s
	$delay-overlay:			$delay-wrapper - 0.5s;           // 1.5s
	$delay-header:			$delay-overlay + _duration(overlay) - 0.75s; // 1.5s + 1.5s - 0.75s = 2.25s
	$delay-nav-icons-base:	$delay-header + _duration(header) * 0.5; // Base delay for first nav icon, e.g., 2.25s + 0.5s = 2.75s
	$delay-nav-icon-stagger:0.25s;


// Reset.
	html, body, div, span, applet, object,
	iframe, h1, h2, h3, h4, h5, h6, p, blockquote,
	pre, a, abbr, acronym, address, big, cite,
	code, del, dfn, em, img, ins, kbd, q, s, samp,
	small, strike, strong, sub, sup, tt, var, b,
	u, i, center, dl, dt, dd, ol, ul, li, fieldset,
	form, label, legend, table, caption, tbody,
	tfoot, thead, tr, th, td, article, aside,
	canvas, details, embed, figure, figcaption,
	footer, header, hgroup, menu, nav, output, ruby,
	section, summary, time, mark, audio, video {
		margin: 0; padding: 0; border: 0; font-size: 100%; font: inherit; vertical-align: baseline;
	}
	article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section { display: block; }
	body { line-height: 1; }
	ol, ul { list-style: none; }
	blockquote, q { quotes: none; &:before, &:after { content: ''; content: none; } }
	table { border-collapse: collapse; border-spacing: 0; }
	body { -webkit-text-size-adjust: none; }
	mark { background-color: transparent; color: inherit; }
	input::-moz-focus-inner { border: 0; padding: 0; }
	input, select, textarea { -moz-appearance: none; -webkit-appearance: none; -ms-appearance: none; appearance: none; }

/* Basic */
	html { box-sizing: border-box; }
	*, *:before, *:after { box-sizing: inherit; }
	body {
		background: _palette(bg);
		overflow: hidden;
		&.is-preload *, &.is-preload *:before, &.is-preload *:after {
			@include vendor('animation', 'none !important');
			@include vendor('transition', 'none !important');
		}
	}
	body, input, select, textarea {
		color: _palette(fg); font-family: 'Epilogue', sans-serif; font-size: 15pt;
		font-weight: 300 !important; letter-spacing: -0.025em; line-height: 1.75em;
	}
	a {
		@include vendor('transition', 'border-color 0.2s ease-in-out');
		border-bottom: dotted 1px; color: inherit; outline: 0; text-decoration: none;
		&:hover { border-color: transparent; }
	}

/* Icon */
	.icon {
		@include icon; position: relative;
		> .label { display: none; }
		&.solid:before { font-weight: 900; }
		&.brands:before { font-family: 'Font Awesome 5 Brands'; }
	}

/* Wrapper */
	@include keyframes('wrapper') { 0% { opacity: 0; } 100% { opacity: 1; } }
	#wrapper {
		@include vendor('animation', 'wrapper #{_duration(wrapper)} forwards');
		height: 100%; left: 0; opacity: 0; position: fixed; top: 0; width: 100%;
	}

/* BG */
	#bg {
		@include vendor('animation', 'bg #{_duration(bg)} linear infinite');
		@include vendor('backface-visibility', 'hidden');
		@include vendor('transform', 'translate3d(0,0,0)');
		background: _misc(bg); background-repeat: repeat-x;
		height: 100%; left: 0; opacity: 1; position: fixed; top: 0;
	}
	@include bg(_misc(bg-width) * 1.5);

/* Overlay */
	@include keyframes('overlay') { 0% { opacity: 0; } 100% { opacity: 1; } }
	#overlay {
		@include vendor('animation', 'overlay #{_duration(overlay)} #{$delay-overlay} forwards');
		background-attachment: fixed; background-image: url('images/overlay-pattern.png'); /* PATH: assets/css/images/ */
		background-position: top left; background-repeat: repeat; background-size: auto;
		height: 100%; left: 0; opacity: 0; position: fixed; top: 0; width: 100%;
	}

/* Eerie Eyes */
	@include keyframes('wiggle') { 0%, 100% { transform: translate(0, 0) rotate(0deg); } 20% { transform: translate(1.5px, -1px) rotate(1.5deg); } 40% { transform: translate(-1px, 0.5px) rotate(-1deg); } 60% { transform: translate(0.5px, 1px) rotate(0.5deg); } 80% { transform: translate(-1.5px, -0.5px) rotate(-1.5deg); } }
	@include keyframes('blink') { 0%, 80%, 100% { transform: scaleY(1); } 83% { transform: scaleY(0.7); } 87% { transform: scaleY(0.05); } 91% { transform: scaleY(0.7); } }
	#eerie-eyes-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: hidden; }
	.eerie-eye { position: absolute; background-image: url('images/eerie-eye-stylized.svg'); background-size: contain; background-repeat: no-repeat; transform-origin: center center; }

/* Main */
	#main {
		height: 100%; left: 0; position: fixed; text-align: center; top: 0; width: 100%; z-index: 1;
		&:before { content: ''; display: inline-block; height: 100%; margin-right: 0; vertical-align: middle; width: 1px; }
	}

/* Header */
	@include keyframes('header-fade-in') { 0% { @include vendor('transform', 'translate3d(0,1em,0)'); opacity: 0; } 100% { @include vendor('transform', 'translate3d(0,0,0)'); opacity: 1; } }
	@include keyframes('nav-icons-fade-in') { 0% { @include vendor('transform', 'translate3d(0,1em,0)'); opacity: 0; } 100% { @include vendor('transform', 'translate3d(0,0,0)'); opacity: 1; } }
	@include keyframes('title-wobble') { 0%, 100% { transform: rotate(0deg) translateY(0px) translateX(0px); } 20% { transform: rotate(-0.7deg) translateY(-2.5px) translateX(1.5px); } 40% { transform: rotate(0.5deg) translateY(0.5px) translateX(-1.5px); } 60% { transform: rotate(0.9deg) translateY(2.5px) translateX(0.5px); } 80% { transform: rotate(-0.3deg) translateY(-1.5px) translateX(-0.5px); } }

	#header {
		@include vendor('animation', 'header-fade-in #{_duration(header)} #{$delay-header} forwards');
		@include vendor('backface-visibility', 'hidden'); @include vendor('transform', 'translate3d(0,0,0)');
		cursor: default; display: inline-block; opacity: 0; position: relative;
		text-align: center; top: -1em; // Adjust for overall vertical positioning
		vertical-align: middle; width: 90%;

		#site-title-image {
			display: block; margin-left: auto; margin-right: auto;
			max-width: 500px; // *** TWEAK THIS FOR YOUR TITLE IMAGE SIZE ***
			height: auto;
			filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.5)) drop-shadow(0 0 18px rgba(255, 255, 255, 0.3));
			margin-bottom: 0.5em; // Space between title image and nav icons
			position: relative; z-index: 10;
            animation: title-wobble 10s infinite ease-in-out;
            animation-delay: #{$delay-header + 0.4s}; // Start wobble slightly after header fades
            transform-origin: center 65%;
		}

		nav { // Nav is back under the title image
			margin: 0 auto; // Center the nav block
            position: relative; z-index: 11;
			width: fit-content; // Shrink nav to content width for centering

			ul { display: flex; padding: 0; margin: 0; list-style: none; justify-content: center; }

			li {
				@include vendor('animation', 'nav-icons-fade-in #{_duration(nav-icons)} ease-in-out forwards');
				@include vendor('backface-visibility', 'hidden'); @include vendor('transform', 'translate3d(0,0,0)');
				display: inline-block;
				height: _size(nav-icon-wrapper);
				line-height: _size(nav-icon-wrapper) * 1.1; // Keeps FA icon vertically centered
				opacity: 0; position: relative; top: 0;
				width: _size(nav-icon-wrapper);
                // padding: 0 0.15em; // Original padding for icon circles

				@for $x from 1 through 3 { // Assuming 3 icons
					&:nth-child(#{$x}) {
						@include vendor('animation-delay', ($delay-nav-icons-base + ($x * $delay-nav-icon-stagger)) + '');
					}
				}
			}

			a { // This is for the Font Awesome icon links
				-webkit-tap-highlight-color: rgba(0,0,0,0); -webkit-touch-callout: none;
				border: 0; display: inline-block; // Remove default 'a' border for icon links

				// The :before creates the circle for the FA icon
				&:before {
					@include vendor('transition', 'all 0.2s ease-in-out');
					border-radius: 100%; border: solid 1px _palette(fg);
					display: block; font-size: _size(nav-icon);
					height: 2.5em; line-height: 2.5em; // Makes the :before a circle
					position: relative; text-align: center; top: 0; width: 2.5em;
				}
				&:hover {
					font-size: 1.1em; // Makes icon slightly larger on hover
					&:before { background-color: _palette(nav-icon, hover-bg); color: _palette(nav-icon, hover-fg); }
				}
				&:active {
					font-size: 0.95em; background: none;
					&:before { background-color: _palette(nav-icon, active-bg); color: _palette(nav-icon, active-fg); }
				}
				span.label { display: none; } // Hides "Instagram", "TikTok", etc. text
			}
		}
	}

/* Footer */
	#footer {
		background-image: -moz-linear-gradient(top, rgba(0,0,0,0), rgba(0,0,0,0.5) 75%);
		background-image: -webkit-linear-gradient(top, rgba(0,0,0,0), rgba(0,0,0,0.5) 75%);
		background-image: -ms-linear-gradient(top, rgba(0,0,0,0), rgba(0,0,0,0.5) 75%);
		background-image: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.5) 75%);
		bottom: 0; cursor: default; height: 6em; left: 0;
		line-height: 8em; position: absolute; text-align: center; width: 100%;
        // Nav is NOT in footer in this version
	}

/* Media Queries */
	@include breakpoint('<=wide') { body, input, select, textarea { font-size: 13pt; } @include bg(_misc(bg-width)); }
	@include breakpoint('<=normal') { body, input, select, textarea { font-size: 12pt; } @include bg(_misc(bg-width) * 0.5); }
	@include breakpoint('<=mobile') {
		body { min-width: 320px; }
		body, input, select, textarea { font-size: 11pt; }
		@include bg(_misc(bg-width) * 0.2);
		#header {
            top: -0.5em; // Adjust title image block slightly for mobile
            #site-title-image { max-width: 80%; margin-bottom: 0.25em; } // Smaller title, less space to nav
			nav {
                // font-size: 0.9em; // Optionally make icon circles slightly smaller on mobile
                li { height: _size(nav-icon-wrapper) * 0.9; width: _size(nav-icon-wrapper) * 0.9; line-height: (_size(nav-icon-wrapper) * 0.9) * 1.1; }
                a:before { font-size: _size(nav-icon) * 0.85; height: 2.3em; width: 2.3em; line-height: 2.3em; }
            }
		}
	}
	@include breakpoint('<=mobilep') {
		@include bg(_misc(bg-width) * 0.275);
		#header {
            top: 0em;
            #site-title-image { max-width: 90%; margin-bottom: 0.1em; }
            nav {
                // font-size: 0.85em; // Further smaller icons
                 li { height: _size(nav-icon-wrapper) * 0.85; width: _size(nav-icon-wrapper) * 0.85; line-height: (_size(nav-icon-wrapper) * 0.85) * 1.1; }
                a:before { font-size: _size(nav-icon) * 0.8; height: 2.2em; width: 2.2em; line-height: 2.2em;}
            }
        }
	}